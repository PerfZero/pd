import { useMemo } from "react";
import { buildMobileDocumentSections } from "./MobileEmployeeDocumentSections";
import { buildMobilePrimarySections } from "./MobileEmployeePrimarySections";

export const useMobileEmployeeFormSections = ({
  employee,
  user,
  defaultCounterpartyId,
  fireLoading,
  activateLoading,
  handleFire,
  handleReinstate,
  handleDeactivate,
  handleActivate,
  getFieldProps,
  formatInn,
  handleInnBlur,
  noAutoFillProps,
  latinInputError,
  antiAutofillIds,
  handleFullNameChange,
  loadingReferences,
  positions,
  citizenships,
  handleCitizenshipChange,
  formatPhoneNumber,
  requiresPatent,
  formatSnils,
  formatKig,
  passportType,
  setPassportType,
  formatRussianPassportNumber,
  mobileOcrState,
  ensureEmployeeId,
  handleDocumentUploadComplete,
  formatPatentNumber,
  formatBlankNumber,
  loadingCounterparties,
  availableCounterparties,
}) => {
  return useMemo(() => {
    const items = [
      ...buildMobilePrimarySections({
        employee,
        user,
        defaultCounterpartyId,
        fireLoading,
        activateLoading,
        onFire: handleFire,
        onReinstate: handleReinstate,
        onDeactivate: handleDeactivate,
        onActivate: handleActivate,
        getFieldProps,
        formatInn,
        handleInnBlur,
        noAutoFillProps,
        latinInputError,
        antiAutofillIds,
        handleFullNameChange,
        loadingReferences,
        positions,
        citizenships,
        handleCitizenshipChange,
        formatPhoneNumber,
      }),
    ];

    items.push(
      ...buildMobileDocumentSections({
        getFieldProps,
        requiresPatent,
        formatSnils,
        formatKig,
        passportType,
        setPassportType,
        formatRussianPassportNumber,
        noAutoFillProps,
        mobileOcrState,
        employee,
        ensureEmployeeId,
        handleDocumentUploadComplete,
        formatPatentNumber,
        formatBlankNumber,
        loadingCounterparties,
        availableCounterparties,
      }),
    );

    return items;
  }, [
    activateLoading,
    antiAutofillIds,
    availableCounterparties,
    citizenships,
    defaultCounterpartyId,
    employee,
    ensureEmployeeId,
    fireLoading,
    formatBlankNumber,
    formatInn,
    formatKig,
    formatPatentNumber,
    formatPhoneNumber,
    formatRussianPassportNumber,
    formatSnils,
    getFieldProps,
    handleActivate,
    handleCitizenshipChange,
    handleDeactivate,
    handleDocumentUploadComplete,
    handleFire,
    handleFullNameChange,
    handleInnBlur,
    handleReinstate,
    latinInputError,
    loadingCounterparties,
    loadingReferences,
    mobileOcrState,
    noAutoFillProps,
    passportType,
    positions,
    requiresPatent,
    setPassportType,
    user,
  ]);
};
